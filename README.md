# Курсове завдання

## Мета

Розробити автоматизаційне тестове рішення для сайту [AutomationExercise](https://automationexercise.com/), яке включає
UI та API тести, з використанням сучасних інструментів для тестування.

## Технічні вимоги

- **Мова програмування**: Java 11
- **Проєкт**: Maven
- **Фреймворк для тестування**: TestNG
- **BDD фреймворк**: Cucumber
- **Паттерн проектування для WebUI**: Page Object Model (POM)
- **Репорти**: Allure
- **API тести**: RestAssured/Gson
- **Інтеграція з інструментами**: Allure для створення детальних звітів про тести, `log4j` для логування
- **IDE**: IntelliJ IDEA

## Загальні кроки

1. **Налаштування базового проекту**:
    - Використайте початкову структуру Maven проекту, яку вам надано в цьому репозиторії
    - Підключіть необхідні залежності: TestNG, Cucumber, Selenium, Allure, Gson, Lombok, log4j

2. **UI тестування (через Selenium)**:
    - **Page Object Model**: Реалізуйте моделі для кількох сторінок сайту (наприклад: сторінка реєстрації користувача,
      сторінка входу в систему, сторінка продуктів).
    - **Сценарії WebUI тестування**: Напишіть кілька тестових сценаріїв на основі функціональності сайту, самостійно
      оберіть як розподілити сценарії по feature-файлам
        - Реєстрація користувача.
        - Вхід в систему з коректними та некоректними даними.
        - Вихід з системи
        - Перегляд всіх продуктів та фільтрація по категорії (Women -> Dress)
        - Перевірка інформації на сторінці продукту (View Product Page)
        - Додавання продукту(ів) в корзину і оформлення замовлення (Place Order)
    - Використовуйте **Cucumber** для опису тестових сценаріїв у форматі BDD (Given/When/Then).

3. **API тестування (через RestAssured)**:
    - Напишіть Cucumber-сценарії для перевірки REST API ресурсів/ендпоінтів:
        - POST https://automationexercise.com/api/verifyLogin
        - GET https://automationexercise.com/api/getUserDetailByEmail
        - GET https://automationexercise.com/api/productsList
        - POST https://automationexercise.com/api/searchProduct
    - Використовуйте бібліотеку на зразок **Gson** для десеріалізації відповідей з API або вбудовані методи RestAssured
      для роботи з DTO/POJO
    - Використовуйте Lombok для автоматичної генерації геттер/сеттер методів та конструктора в DTO класах

4. **Інтеграція з Allure**:
    - Налаштуйте Allure для генерації тестових звітів.
    - Додайте кроки у ваші тести для більш детальної інформації в звітах.

5. **Оформлення фінального проєкту**:
    - Використовуйте Cucumber Scenario Outlines та Data Tables там, де це може бути корисним
    - Додайте файл `README_TEST.md` і вкажіть опис проєкту і інструкції по запуску, додайте приклад виводу Maven при
      виконанні `mvn test`
    - Додайте в `README_TEST.md` інструкції по генерації тестового репорту `Allure`

## Покрокові завдання

1. **Структура проєкту**:
    - Базова структура Maven-проєкту вже доступна у вашому репозиторії, розширюйте її під ваші задачі відповідно до
      рекомендацій розробників інструментів, що використовуються
    - Налаштуйте залежності в `pom.xml` для усіх інструментів та бібліотек, які ви будете використовувати

2. **Створення POM/Page Object Classes для веб-сторінок**:
    - Створіть класи для основних сторінок сайту за паттерном Page Object (
      наприклад, `LoginPage`, `ProductPage`, `RegistrationPage`).
    - Реалізуйте основні методи для роботи з елементами сторінок.

3. **BDD сценарії (Cucumber)**:
    - Створіть `.feature` файли з тестовими сценаріями, розділіть фічі/сценарії, що перевіряють WebUI і API
    - Напишіть `step definitions`, які зв'язуватимуть сценарії з методами POM.

4. **API тести**:
    - Напишіть тести для API з використанням RestAssured для вказаних ендпоінтів/ресурсів
    - Для кожного ендпоінту додайте один позитивний і один негативний сценарій, негативний сценарій провокуватиме
      повернення `4хх` або `5хх` статус коду
    - Використайте Gson/RestAssured для перетворення JSON відповіді у Java об'єкти

5. **Репорти та Allure**:
    - Налаштуйте Allure для збору детальних звітів після запуску тестів.
    - Переконайтеся, що кожен тест генерує репорт з усіма необхідними кроками та результатами.

6. **Фінальний результат**:
    - Ваша фреймворк має бути здатним запускати UI і API тести та генерувати Allure-звіти після кожного запуску.
    - Користувач фреймворку має мати змогу запустити UI і API тести окремо або запустити усі наявні тести разом
    - [ОПЦІОНАЛЬНО] Додайте можливість запуску UI тестів з використанням
      Headless-browser (https://www.selenium.dev/blog/2023/headless-is-going-away/), а також з можливістю вибора
      браузера через вказання відповідних Environment-variables, додайте інструкції в `README_TEST.md` - як запускати
      тести в різних режимах і з різними браузерами
    - [ОПЦІОНАЛЬНО] Налаштуйте GitHub Actions пайплайн для запуску тестів через мануальний тригер, а також по пушу
      в `main`, додайте архівацію артефактів та можливість перегляду спрощеного Junit-звіту після виконання тестів в
      CI-системі. Для запуску Selenium тестів в Github Actionc CI доведеться використовувати тільки headless-mode,
      оскільки CI-воркери не мають UI

## Додаткові поради

- Не беріться за все одразу, почніть розвивати ваш фреймворк з WebUI частини, додаючи спочатку Cucumber-сценарії, потім
  Step Definitions для них, потім відповідні POM-класи та DTO-класи, попіклуйтеся про запуск ваших тестів через Maven та
  створення тестового звіту і запуск в CI вже після того, як будете впевнені, що тести є працездатними
- Важливо дотримуватися принципів чистого коду (https://www.baeldung.com/java-clean-code) та розділення
  відповідальностей сутностей та класів
- Пишіть тести таким чином, щоб їх можна було легко підтримувати та масштабувати.
- Для глобальної конфігурації створіть конфігураційний файли/файли, де користувач зможе вказувати дані на
  зразок `BASE_URI`, данних для автентифікації і т.п.
- Використовуйте коментарі для пояснення складних частин коду.
- Використовуйте бібліотеку для логування на зразок `log4j`
